(this["webpackJsonpproject-3-fe"]=this["webpackJsonpproject-3-fe"]||[]).push([[0],{24:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(18),s=n.n(c),i=(n(24),n(9)),r=n(3),o=(n(25),n(2)),l=n(5),j=(n(26),n(0)),b=function(e){var t=e.setBookDetails,n=(e.bookDetail,e.history),c=Object(a.useState)(""),s=Object(r.a)(c,2),i=s[0],o=s[1];return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"headbar",children:Object(j.jsx)(l.b,{to:"/",children:Object(j.jsx)("img",{src:"data:image/png;base64,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",alt:"Bookstars",className:"logo"})})}),Object(j.jsxs)("nav",{children:[Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("https://www.googleapis.com/books/v1/volumes?q=intitle:".concat(i,"&key=AIzaSyCbwixLUo_AQ7vhv3MnioBwURJEZ3n8jng")).then((function(e){return e.json()})).then((function(e){t(e.items[0].volumeInfo),localStorage.setItem("book",JSON.stringify(e.items[0].volumeInfo)),n.push("/search/".concat(e.items[0].volumeInfo.title))})).catch()},children:[Object(j.jsx)("input",{type:"text",name:"search",onChange:function(e){e.preventDefault(),o(e.target.value)},className:"inputSearch",placeholder:"Search for a book"}),Object(j.jsx)("input",{type:"submit",value:"Search"})]}),Object(j.jsx)(l.b,{to:"/fiction",className:"navLinks",children:"Fiction"}),Object(j.jsx)(l.b,{to:"/nonfiction",className:"navLinks",children:"Nonfiction"}),Object(j.jsx)(l.b,{to:"/youngadult",className:"navLinks",children:"Young Adult"}),Object(j.jsx)(l.b,{to:"/middlegrade",className:"navLinks",children:"Middle Grade"}),Object(j.jsx)(l.b,{to:"/childrens",className:"navLinks",children:"Childrens"})]})]})},u=function(){return Object(j.jsx)("div",{children:Object(j.jsx)("p",{children:"this is gallery"})})},h=function(e){var t=e.extra,n=e.setExtra,c=e.setBooks,s=e.books,i=e.match,r="";if(i)switch(i.params.genre){case"fiction":n(r="combined-print-fiction");break;case"nonfiction":n(r="combined-print-nonfiction");break;case"youngadult":n(r="young-adult");break;case"middlegrade":n(r="childrens-middle-grade");break;case"childrens":n(r="picture-books")}else r="combined-print-fiction";return Object(a.useEffect)((function(){fetch("https://api.nytimes.com/svc/books/v3/lists/current/".concat(r,".json?api-key=Har2JGxlbuOpjx3lnsMAWb4MPCzfGO3u")).then((function(e){return e.json()})).then((function(e){console.log(e.results),c(e.results.books)})).catch()}),[t]),Object(j.jsx)("section",{children:s?s.map((function(e){return Object(j.jsxs)(l.b,{to:"/books/".concat(e.title),children:[Object(j.jsx)("h4",{children:e.title}),Object(j.jsx)("h6",{children:e.author}),Object(j.jsx)("img",{src:e.book_image,alt:e.title})]},e.title)})):null})},d=n(11),O=(n(33),function(e){var t=e.books,n=e.match,c=e.bookDetail,s=e.setBookDetails,l=Object(o.e)(),b=n.params.title,u=Object(a.useState)([]),h=Object(r.a)(u,2),O=h[0],x=h[1],m=Object(a.useState)([]),g=Object(r.a)(m,2),v=g[0],f=g[1],p=Object(a.useState)({title:b,review:"",rating:""}),y=Object(r.a)(p,2),k=y[0],S=y[1],N=Object(a.useState)(!1),A=Object(r.a)(N,2),U=(A[0],A[1]),Z=Object(a.useState)(!1),F=Object(r.a)(Z,2),R=F[0],B=F[1],P=Object(a.useState)(0),V=Object(r.a)(P,2),M=V[0],q=V[1];Object(a.useEffect)((function(){if(t.length)t.forEach((function(e,n){e.title===b&&(s(t[n]),localStorage.setItem("book",JSON.stringify(t[n])))})),fetch("http://localhost:3000/api/books/title/".concat(b)).then((function(e){return e.json()})).then((function(e){(null===e||void 0===e?void 0:e.ratings)&&f(e.ratings),(null===e||void 0===e?void 0:e.reviews)&&x(e.reviews)})).catch();else if(localStorage.getItem("book")){var e=localStorage.getItem("book");s(JSON.parse(e))}}),[t]),Object(a.useEffect)((function(){1===v.length?q(v[0]):v.length>1&&q(v.reduce((function(e,t){return(e+t)/2})))}),[v,O]);var C=function(e){S(Object(i.a)(Object(i.a)({},k),{},Object(d.a)({},e.target.name,e.target.value)))};return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("section",{children:[c?Object(j.jsxs)("aside",{className:"book-detail",children:[Object(j.jsx)("h1",{children:c.title}),Object(j.jsx)("h3",{children:c.author}),Object(j.jsx)("img",{src:c.book_image,alt:c.title}),Object(j.jsx)("p",{children:c.description}),Object(j.jsx)("a",{href:c.amazon_product_url,target:"_blank",rel:"noopener noreferrer",children:"Buy on Amazon"})]}):null,Object(j.jsxs)("container",{className:"leave-review",children:[Object(j.jsxs)("div",{className:"Average",children:[Object(j.jsx)("h4",{children:"Average Rating"}),v.length?Object(j.jsx)("p",{children:M}):Object(j.jsx)("p",{children:"Rate me!"})]}),Object(j.jsx)("h2",{children:"Leave a Review"}),Object(j.jsxs)("form",{onSubmit:function(e){if(k.review&&k.rating){var t="http://localhost:3000/api/books/title/".concat(b);fetch(t,{method:"PATCH",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(k)}).then((function(e){return e.json()})).then((function(e){l.push("/books/".concat(e.title))})).catch((function(e){return U(!0)}))}else B(!0)},className:"rating-form",children:[R?Object(j.jsx)("p",{children:"Please leave a rating and review before submitting"}):null,Object(j.jsxs)("wrapper",{className:"stars",children:[Object(j.jsx)("input",{type:"radio",id:"star5",name:"rating",value:"5",onChange:C}),Object(j.jsx)("label",{title:"text",children:"5 stars"}),Object(j.jsx)("input",{type:"radio",id:"star4",name:"rating",value:"4",onChange:C}),Object(j.jsx)("label",{title:"text",children:"4 stars"}),Object(j.jsx)("input",{type:"radio",id:"star3",name:"rating",value:"3",onChange:C}),Object(j.jsx)("label",{title:"text",children:"3 stars"}),Object(j.jsx)("input",{type:"radio",id:"star2",name:"rating",value:"2",onChange:C}),Object(j.jsx)("label",{title:"text",children:"2 stars"}),Object(j.jsx)("input",{type:"radio",id:"star1",name:"rating",value:"1",onChange:C}),Object(j.jsx)("label",{title:"text",children:"1 star"})]}),Object(j.jsxs)("div",{className:"review",children:[Object(j.jsx)("textarea",{name:"review",className:"review-text",value:k.review,onChange:C}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{type:"submit",children:"Submit"})]})]})]}),Object(j.jsxs)("div",{className:"pastReviews",children:[Object(j.jsx)("h4",{children:"Reviews"}),O.length?O.map((function(e,t){return Object(j.jsx)("p",{children:e},t)})):Object(j.jsx)("p",{children:"Please leave a review"})]})]})})}),x=function(e){var t=e.match,n=e.bookDetail,c=e.setBookDetails,s=Object(o.e)(),l=t.params.title,b=Object(a.useState)([]),u=Object(r.a)(b,2),h=u[0],O=u[1],x=Object(a.useState)([]),m=Object(r.a)(x,2),g=m[0],v=m[1],f=Object(a.useState)({title:l,review:"",rating:""}),p=Object(r.a)(f,2),y=p[0],k=p[1],S=Object(a.useState)(!1),N=Object(r.a)(S,2),A=(N[0],N[1]),U=Object(a.useState)(!1),Z=Object(r.a)(U,2),F=Z[0],R=Z[1],B=Object(a.useState)(0),P=Object(r.a)(B,2),V=P[0],M=P[1];Object(a.useEffect)((function(){if(localStorage.getItem("book")){var e=localStorage.getItem("book");c(JSON.parse(e))}fetch("http://localhost:3000/api/books/title/".concat(l)).then((function(e){return e.json()})).then((function(e){(null===e||void 0===e?void 0:e.ratings)&&v(e.ratings),(null===e||void 0===e?void 0:e.reviews)&&O(e.reviews)})).catch()}),[]),Object(a.useEffect)((function(){1===g.length?M(g[0]):g.length>1&&M(g.reduce((function(e,t){return(e+t)/2})))}),[g,h]);var q=function(e){k(Object(i.a)(Object(i.a)({},y),{},Object(d.a)({},e.target.name,e.target.value)))};return Object(j.jsxs)("section",{children:[Object(j.jsx)("button",{className:"open-modal",children:"Leave a Review"}),n?Object(j.jsxs)("div",{className:"book-detail",children:[Object(j.jsx)("h1",{children:n.title}),Object(j.jsx)("h3",{children:n.authors[0]}),Object(j.jsx)("img",{src:n.imageLinks.thumbnail,alt:n.title}),Object(j.jsx)("p",{children:n.description}),Object(j.jsx)("a",{href:n.infoLink,target:"_blank",rel:"noopener noreferrer",children:"Check out on Google"})]}):null,Object(j.jsx)("div",{children:Object(j.jsxs)("form",{onSubmit:function(e){if(y.review&&y.rating){var t="http://localhost:3000/api/books/title/".concat(l);fetch(t,{method:"PATCH",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(y)}).then((function(e){return e.json()})).then((function(e){s.push("/books/".concat(e.title))})).catch((function(e){return A(!0)}))}else R(!0)},className:"rating-form",children:[Object(j.jsx)("h3",{children:"Leave a Review"}),F?Object(j.jsx)("p",{children:"Please leave a rating and review before submitting"}):null,Object(j.jsx)("p",{children:"Rating:"}),Object(j.jsxs)("div",{className:"rate",children:[Object(j.jsx)("input",{type:"radio",id:"star5",name:"rating",value:"5",onChange:q}),Object(j.jsx)("label",{title:"text",children:"5 stars"}),Object(j.jsx)("input",{type:"radio",id:"star4",name:"rating",value:"4",onChange:q}),Object(j.jsx)("label",{title:"text",children:"4 stars"}),Object(j.jsx)("input",{type:"radio",id:"star3",name:"rating",value:"3",onChange:q}),Object(j.jsx)("label",{title:"text",children:"3 stars"}),Object(j.jsx)("input",{type:"radio",id:"star2",name:"rating",value:"2",onChange:q}),Object(j.jsx)("label",{title:"text",children:"2 stars"}),Object(j.jsx)("input",{type:"radio",id:"star1",name:"rating",value:"1",onChange:q}),Object(j.jsx)("label",{title:"text",children:"1 star"})]}),Object(j.jsxs)("div",{className:"review",children:[Object(j.jsx)("p",{children:"Your review:"}),Object(j.jsx)("input",{name:"review",type:"text",className:"review-text",value:y.review,onChange:q}),Object(j.jsx)("button",{type:"submit",children:"Submit"})]})]})}),Object(j.jsx)("h4",{children:"Average Rating"}),g.length?Object(j.jsx)("p",{children:V}):Object(j.jsx)("p",{children:"This book has not yet been rated."}),Object(j.jsx)("h4",{children:"Reviews"}),h.length?h.map((function(e,t){return Object(j.jsx)("p",{children:e},t)})):Object(j.jsx)("p",{children:"Please leave a review"})]})};var m=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),l=Object(r.a)(s,2),d=l[0],m=l[1],g=Object(a.useState)(""),v=Object(r.a)(g,2),f=v[0],p=v[1];return Object(a.useEffect)((function(){fetch("https://api.nytimes.com/svc/books/v3/lists/current/combined-print-fiction.json?api-key=Har2JGxlbuOpjx3lnsMAWb4MPCzfGO3u").then((function(e){return e.json()})).then((function(e){console.log(e.results),c(e.results.books)})).catch()}),[]),Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(o.a,{path:"/",render:function(e){return Object(j.jsx)(b,Object(i.a)({bookDetail:d,setBookDetails:m},e))}}),Object(j.jsxs)("main",{children:[Object(j.jsx)(o.a,{path:"/",exact:!0,render:function(){return Object(j.jsx)(u,{})}}),Object(j.jsx)(o.a,{path:"/",exact:!0,render:function(){return Object(j.jsx)(h,{books:n,setBooks:c,extra:f,setExtra:p})}}),Object(j.jsx)(o.a,{path:"/:genre",exact:!0,render:function(e){return Object(j.jsx)(h,{match:e.match,books:n,setBooks:c,extra:f,setExtra:p})}}),Object(j.jsx)(o.a,{path:"/books/:title",render:function(e){return Object(j.jsx)(O,{books:n,bookDetail:d,setBookDetails:m,match:e.match})}}),Object(j.jsx)(o.a,{exact:!0,path:"/search/:title",render:function(e){return Object(j.jsx)(x,{bookDetail:d,setBookDetails:m,match:e.match})}})]})]})};s.a.render(Object(j.jsx)(l.a,{children:Object(j.jsx)(m,{})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.34f7ebb0.chunk.js.map